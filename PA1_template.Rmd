---
title: "Reproducible Research: Peer Assessment 1"
author: "Karan Sharma"
date: '`r Sys.Date()`'
output: 
  html_document:
    keep_md: true
---

The following documents explains the data analysis undertaken as a part of the Reproducible Research Course in the Coursera-JHU Data Science Specialization. 

## Setup

In this section we setup R working environment by loading the required libraries. 

```{r setup, echo= TRUE, warning=FALSE, message=FALSE}

library(data.table)
library(ggplot2)

```




## Loading and preprocessing the data

The provided data is in zipped, so firstly the data is unzipped. The resulting file is in CSV format and is titled *activity.csv*.

This file is then read into R and saved as a data frame titled *indata*. This data frame is then saved as a data.table object. For this assignment I use data.table library, for more information check data.table [cheat sheet](https://s3.amazonaws.com/assets.datacamp.com/img/blog/data+table+cheat+sheet.pdf).

```{r load-1, echo= TRUE, warning=FALSE, message=FALSE}
indata <- read.csv("./activity.csv")
setDT(indata)
```


The first and last five rows of the data are presented in the R output below:

```{r load-2, echo= TRUE, warning=FALSE, message=FALSE}
indata
```




## What is mean total number of steps taken per day?

1. To calculate the total number to steps taken per day, I use the data.table *by* feature to sum the total number of steps in a day. To ignore the missing values in the assignment, I set *na.rm=TRUE* in the sum function. As a result of this, days where steps were **NA** are treated as days where 0 (zero) steps were recorded. The head and tail of the resulting data.table *steps_perday* are shown in R output below:

```{r steps/day, echo= TRUE, warning=FALSE, message=FALSE}

steps_perday <- indata[ ,.(total_steps= sum(steps,na.rm = TRUE)), by= date]

head(steps_perday,5)
tail(steps_perday,5)

```

\


2. Histogram of the total number of steps taken per day:

```{r steps/day-hist, echo= TRUE, warning=FALSE, message=FALSE}

hist.steps_perday <- ggplot(data = steps_perday, aes(total_steps)) + 
  geom_histogram(binwidth=2000,colour="red",fill="white")

print(hist.steps_perday)

```

\


3. Mean and Median of total number of steps taken per day:
```{r steps/day-mean, echo= TRUE, warning=FALSE, message=FALSE}

summary.steps_perday <- steps_perday[, .( mean_steps= mean(total_steps, na.rm = TRUE),
                                          median_steps= median(total_steps, na.rm = TRUE))
                                     ]
# Mean of total no. of steps taken per day:
summary.steps_perday$mean_steps
# Median of total no. of steps taken per day:
summary.steps_perday$median_steps
```
So the **Mean** and **Median** of total no. of steps taken per day are **9354.23** and **10395** respectively.  

\


## What is the average daily activity pattern?



## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
